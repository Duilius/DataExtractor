{% extends "auth/base_auth.html" %}

{% block title %}Iniciar Sesión{% endblock %}

{% block header %}
<h1>Iniciar Sesión</h1>
{% endblock %}

{% block content %}
<form 
    method="POST"
    action="/auth/login"
    class="auth-form">
    
    <div class="form-group">
        <label for="codigo">Código de Usuario:</label>
        <input 
            type="text" 
            id="codigo" 
            name="codigo" 
            required 
            autocomplete="username"
            placeholder="Ingrese su código">
    </div>
    
    <div class="form-group">
        <label for="password">Contraseña:</label>
        <div class="password-input-container">
            <input 
                type="password" 
                id="password" 
                name="password" 
                required 
                autocomplete="current-password"
                placeholder="Ingrese su contraseña">
            <button 
                type="button" 
                class="toggle-password"
                onclick="togglePasswordVisibility(this)">
                👁️
            </button>
        </div>
    </div>

    {% if error %}
    <div class="error-message">
        {{ error }}
    </div>
    {% endif %}

    <div class="form-actions">
        <button type="submit" class="btn-primary">
            <span>Ingresar</span>
        </button>
    </div>

    <div class="auth-links">
        <a href="/auth/forgot-password" class="link-forgot">
            ¿Olvidó su contraseña?
        </a>
    </div>
</form>
{% endblock %}

{% block scripts %}
<script>
function togglePasswordVisibility(button) {
    const input = button.parentElement.querySelector('input');
    if (input.type === 'password') {
        input.type = 'text';
        button.textContent = '👁️‍🗨️';
    } else {
        input.type = 'password';
        button.textContent = '👁️';
    }
}
</script>
{% endblock %}